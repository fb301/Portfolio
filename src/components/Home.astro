<section id='home'>
  <div id='hallo'>
    <div class='diagonal-text'>
      <p>Welcome!</p>
    </div>
  </div>
  <div class='theme'>
    <p>Make yourself comfortable:</p><input
      type='range'
      value='215'
      min='0'
      max='360'
      step='0.1'
    />
  </div>
  <div class='wrapper'>
    <p>
      My name is Fredrik and I like<br />Front End &#183; Back End &#183;
      Infrastructure<br />
    </p>
  </div>
</section>

<style>
  .diagonal-text {
    padding-top: 40px;
    padding-bottom: 40px;
    text-align: center;
    overflow: hidden;
  }

  p {
    font-family: "Fira Code", monospace;
  }

  .wrapper {
    padding-top: 20px;
    text-align: center;
    overflow: hidden;
  }

  .theme {
    display: block;
    text-align: center;
    margin-left: auto;
    margin-right: auto;
    width: 20em;
  }

  .diagonal-text > p {
    --skew-angle: -4deg;
    --clr-primary-300: oklch(0.5753 0.184 261.41);
    --clr-primary-400: oklch(0.4562 0.1701 261.45);
    font-weight: 700;
    font-size: clamp(2.8rem, calc(1.85rem + 4.74vw), 5.52rem);
    font-family: system-ui;
    rotate: var(--skew-angle);
    text-shadow:
      2px 2px 0 oklch(from var(--color-1) calc(l - 0.1) c h / calc(alpha - 0.3)),
      6px 6px 0
        oklch(
          from var(--color-1) calc(l - 0.1) c calc(h - 10) / calc(alpha - 0.5)
        ),
      8px 8px 0
        oklch(
          from var(--color-1) calc(l - 0.2) c calc(h - 20) / calc(alpha - 0.8)
        );
  }

  input[type="range"] {
    -webkit-appearance: none;
    appearance: none;

    background: transparent;

    cursor: pointer;
    width: 100%;
  }
  /* chrome */
  input[type="range"]::-webkit-slider-runnable-track {
    background-image: linear-gradient(
      90deg,
      oklch(45.12% 0.4 0),
      oklch(45.12% 0.4 90),
      oklch(45.12% 0.4 180),
      oklch(45.12% 0.4 270),
      oklch(45.12% 0.4 360)
    );

    height: 0.25rem;
    border-radius: 100px;
    margin: 0 0.25rem;
  }
  /* firefox */
  input[type="range"]::-moz-range-track {
    background-image: linear-gradient(
      90deg,
      oklch(45.12% 0.267 0),
      oklch(45.12% 0.267 90),
      oklch(45.12% 0.267 180),
      oklch(45.12% 0.267 270),
      oklch(45.12% 0.267 360)
    );

    height: 0.25rem;
    border-radius: 100px;
    margin: 0 0.25rem;
  }
  /* IE */
  input[type="range"]::-ms-track {
    background-image: linear-gradient(
      90deg,
      oklch(45.12% 0.267 0),
      oklch(45.12% 0.267 90),
      oklch(45.12% 0.267 180),
      oklch(45.12% 0.267 270),
      oklch(45.12% 0.267 360)
    );

    height: 0.25rem;
    border-radius: 100px;
    margin: 0 0.25rem;
  }

  /* chrome */
  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;

    margin-top: -0.25rem;

    background-color: var(--color-1);
    height: 0.75rem;
    width: 0.75rem;
    border-radius: 1000px;
    border: 2px solid white;
  }
  /* firefox */
  input[type="range"]::-moz-range-thumb {
    background-color: var(--color-1);
    height: 1rem;
    width: 1rem;
    border-radius: 1000px;
    border: 2px solid white;
  }
</style>

<script>
  document.addEventListener("astro:page-load", () => {
    const slider = document.querySelector(
      ".theme input",
    ) as HTMLInputElement | null;
    const root = document.querySelector(":root") as HTMLElement | null;

    if (slider && root) {
      slider.addEventListener("input", () => {
        const hue = slider.value;

        root.style.setProperty("--color-1", `oklch(45.12% 0.267 ${hue})`);
        root.style.setProperty(
          "--secondary-color",
          `oklch(94.45% 0.03 ${hue})`,
        );
      });
    }
  });
</script>
